<!--
  Generated template for the ResultsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Analyze</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<h4>{{ survey_title }}</h4>
	<p>{{ description }}</p>

	<div *ngFor="let question of questions; let idx = index">
		<ion-item text-wrap>
			<ion-label>{{idx+1}}. {{ question['message'] }}</ion-label>
			<button item-end clear ion-button (click)="showResult(idx)">
				View 
				<ion-icon name="ios-arrow-forward"></ion-icon>
			</button>
		</ion-item>

		<div id="opt_{{idx}}">
			<ion-toolbar style="padding: 0 30px;">
				<ion-segment mode="ios" [(ngModel)]="chartOptions">
				    <ion-segment-button value="pie">Pie</ion-segment-button>
				    <ion-segment-button value="donut">Donut</ion-segment-button>
				    <ion-segment-button value="bar">Bar</ion-segment-button>
				</ion-segment>
			</ion-toolbar>
		</div>

		<div id="results_div_{{idx}}">
		</div>

		<div *ngIf="question['type'] == 'longAnswer' || question['type'] == 'shortAnswer' || question['type'] == 'date' || question['type'] == 'time' " id="openAnsDiv_{{idx}}" style="display: none;">
			List of Answers:
			<ul>
				<li *ngFor="let ans of openAnswers">{{ ans }}</li>
			</ul>
		</div>
	</div>

	<!-- TEMPORARY BUTTONS -->
	<button ion-button small (click)="showTable()">Show Table</button>
	<!-- <button ion-button small (click)="showPieChart()">Show Pie chart</button> -->
	<button ion-button small (click)="showBarChart()">Show Bar chart</button>
	<button ion-button small (click)="showDonutChart()">Show Donut chart</button>

	<div id="table_div" text-center></div>
	<!-- <div id="pie_chart_div" text-center style="width: 400px; height: 500px;margin-left: auto; margin-right: auto; "></div> -->
	<div id="pie_chart_div" style = "width: 500px; height: 400px; margin: 0 auto"></div>
	<div id="bar_chartdiv"></div>
	<div id="donut_chart_div"  style = "width: 500px; height: 400px; margin: 0 auto"></div>
</ion-content>
